{% extends 'base.html' %}
{% load static %}
{% block title %}Flipkart|Home{% endblock %}
<body>
    {% block body %}
    <!-- category starts here-->
    <div class="container-fluid">
        <div class="row">
            
            <div class="col text-center">
                <img src="{% static 'images/fashion.png' %}" alt="" width="80px" height="70px">
                <p><a href="/fashionlist">Fashion</a></p>
            </div>

            <div class="col text-center">
                <img src="{% static 'images/appliances.png' %}" alt="" width="80px" height="70px">
                <p><a href="/electronicslist">Electronics</a></p>
            </div>
            
            <div class="col text-center">
                <img src="{% static 'images/mobile.PNG' %}" alt="" width="80px" height="70px">
                <p><a href="/mobilelist">Mobile</a></p>
            </div>

            <div class="col text-center">
                <img src="{% static 'images/grocery.png' %}" alt="" width="80px" height="70px">
                <p><a href="/grocerylist">Grocery</a></p>
            </div>
            
            <div class="col text-center">
                <img src="{% static 'images/shirt.png' %}" alt="" width="80px" height="70px">
                <p><a href="/clothlist">Cloths</a></p>
            </div>
            
            <div class="col text-center">
                <img src="{% static 'images/shoes.png' %}" alt="" width="80px" height="70px">
                <p><a href="/shoeslist">Shoes</a></p>
            </div>

            <div class="col text-center">
                <img src="{% static 'images/furniture.png' %}" alt="" width="80px" height="70px">
                <p><a href="#">Furniture</a></p>
            </div>
        </div>
    </div>
    <!-- category ends here-->

    <!-- carousel starts here -->
    
    <!-- carousel ends here -->

    <!-- cards starts here -->
     <div class="container-fluid">
        <div class="row">
            <!-- search starts here -->
            <div class="col-md-2">
            <div>
                <h5>Search by category</h5>
                <hr>
                <a href="/mobilelist">Mobile</a><br>
                <a href="/electronicslist">Electronics</a><br>
                <a href="/grocerylist">Grocery</a><br>
            </div>

            <div class="mt-3">
                <h5>Search by Price Range</h5>
        
                <form method="post" action="/showpricerange/">
                    {% csrf_token %}
                    <input class="form-control" type="number" name="min" placeholder="Min Price"><br>
                    <input class="form-control" type="number" name="max" placeholder="Max Price"><br>
                    <input type="submit" class="btn btn-danger" value="submit">
                </form>
            </div>

            <div class="mt-3">
                <h5>Sort by Price</h5>
                <hr>
                <a href="/sortingbyprice/?sort=low_to_high">Low to High</a><br>
                <a href="/sortingbyprice/?sort=high_to_low">High to Low</a><br>
            </div>

            </div>
            <!-- search ends  here -->
            <div class="col-md-10 row">
            {% if errmsg %}
            <h1><mark>{{errmsg}}</mark></h1>
            {% endif %}

            {% for x in allproducts %}
            <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
                <div class="card text-center" style="width: 100%; height: 100%;">
                    <img src="{{x.images.url}}" class="card-img-top" alt="{{x.productname}}" width="100px" height="150px">
                    <div class="card-body">
                      <h5 class="card-title">{{x.productname}}</h5>
                      <h5 class="card-title">{{x.category}}</h5>
                      <h6 class="card-text">Price: {{x.price}}/-</h6>
                      <a href="/addtocart/{{x.productid}}" class="btn btn-primary">Add to Cart</a>
                    </div>
                  </div>
            </div>
            {% endfor %}
            </div>

        </div>
     </div>
    <!-- cards ends here -->

    {% endblock %}
    
</body>